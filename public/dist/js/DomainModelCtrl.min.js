RapidApp.controller("DomainModelCtrl",function(e,t,o,a){e.go=function(e){t.path(e)},e.ShowPreviousEntities=function(){o.go("DomainModelTree")},EditDomainModel("Rubus_Core","edit")}),RapidApp.controller("DomainModelTreeCtrl",function(e,t,d){localStorage.setItem("DateTime",""),e.go=function(e){t.path(e)},e.GetDomainModelTree=function(){$.ajax({url:"../GetDomainModelTree",type:"post",contentType:"application/json",beforeSend:function(){$("#Loader").show()},success:function(e){var t=[];if(e.error||""==e||null==e||"null"==e||e==[])t=[{id:"Root",parent:"#",text:"Root",state:{opened:!0,selected:!0},icon:"/Analytics/Images/OPC_Icons/locationicon1.png"},{id:"NewNode",parent:"Root",text:"NewNode",icon:"/Images/Widgets/Folder-icon.png"}];else{t=[{id:"Root",parent:"#",text:"Root",state:{opened:!0,selected:!0},icon:"/Analytics/Images/DomainModel/icons8-module-filled-24.png"},{id:e[0].CreatedDate,parent:"Root",text:e[0].CreatedDate,icon:"/Analytics/Images/DomainModel/calendar-page-with-text-lines.png"},{id:e[0].CreatedDateTime,parent:e[0].CreatedDate,text:e[0].CreatedTime,icon:"/Analytics/Images/DomainModel/wall-clock-of-circular-shape.png"}];for(var o=1;o<=e.length-1;o++)e[o].CreatedDate==e[o-1].CreatedDate?t.push({id:e[o].CreatedDateTime,parent:e[o].CreatedDate,text:e[o].CreatedTime,icon:"/Analytics/Images/DomainModel/wall-clock-of-circular-shape.png"}):t.push({id:e[o].CreatedDate,parent:"Root",text:e[o].CreatedDate,icon:"/Analytics/Images/DomainModel/calendar-page-with-text-lines.png"},{id:e[o].CreatedDateTime,parent:e[o].CreatedDate,text:e[o].CreatedTime,icon:"/Analytics/Images/DomainModel/wall-clock-of-circular-shape.png"})}$("#DomainModelTree").bind("loaded.jstree",function(e,t){}).jstree({core:{data:t,check_callback:!0,load_open:!0},types:{default:{icon:"glyphicon glyphicon-flash"},demo:{icon:"glyphicon glyphicon-ok"}}}),$("#DomainModelTree").bind("select_node.jstree",function(e,t){for(var o=jQuery.jstree.reference("#DomainModelTree").get_json(t.instance.get_node(t.selected[0]).id,{flat:!0}),a=0,n=0,i=o.length;n<i;n++)"#"!==o[n].parent&&a++;if(1==a){var l=t.instance.get_node(t.selected[0]).id;localStorage.setItem("DateTime",l),d.go("DomainModel",{DateTime:l})}else $("#"+t.instance.get_node(t.selected[0]).id+" .jstree-ocl").click()})},complete:function(){$("#Loader").hide()},error:function(e){$("#Loader").hide(),alert(e)}})},e.GetDomainModelTree()});