var clearsetInterval;function fn_skincolor(){try{StartPageLoader(),$.ajax({url:"../getskincolor",type:"GET",contentType:"application/json",success:function(e){StopPageLoader();var r=JSON.parse(e);$.each(r,function(e,r){"skin-2"==r?($(".menu").removeClass("no-skin"),$(".menu").removeClass("skin-1"),$(".menu").removeClass("skin-3")):"skin-1"==r?($(".menu").removeClass("no-skin"),$(".menu").removeClass("skin-2"),$(".menu").removeClass("skin-3")):("skin-3"==r?$(".menu").removeClass("no-skin"):$(".menu").removeClass("skin-3"),$(".menu").removeClass("skin-2"),$(".menu").removeClass("skin-1")),$(".menu").addClass(r)})}})}catch(e){fn_errorNotification("200",e,e,"Error Occured in fn_skincolor","error_alert","","")}}function Submneuhover(){try{StartPageLoader(),$.ajax({url:"../Get_Submenu",type:"GET",contentType:"application/json",success:function(e){StopPageLoader();var r=JSON.parse(e);$.each(r,function(e,r){"hover"==r?$(".ParentTag").addClass(r):$(".ParentTag").removeClass(r)})}})}catch(e){StopPageLoader(),fn_errorNotification("200",e,e,"Error Occured in Getting Data with code Submneuhover","error_alert","","")}}function Side_Top_Menu_Creation(){StartPageLoader(),$.ajax({url:"../GetMenu_Creation",contentType:"application/json",type:"GET",success:function(e){0==e?fn_errorNotification("200",e.error,e.error,"Error Occured in Getting Data with code Side_Top_Menu_Creation","error_alert","",""):($("#div_sidemenu").empty(),$("#div_sidemenu").append(e.data),MenuOpertaion()),StopPageLoader()}}),$.ajax({url:"../TopMenu_Creation",contentType:"application/json",type:"GET",success:function(e){$("#sidebar2").empty(),0==e?fn_errorNotification("200",e.error,e.error,"Error Occured in Getting Data with code Side_Top_Menu_Creation","error_alert","",""):($("#sidebar2").append(e),$("#Topmenu_parent").hide())}})}function fn_Menubar_Toggle(){$("#Chk_sidemenu").click(function(){$(this).is(":checked")?($("#sidebar").show(),$("#sidebar").addClass("sidebar responsive ace-save-state")):($("#sidebar").hide(),$("#sidebar").removeClass("sidebar responsive ace-save-state"))}),$("#Chk_TopMenu").click(function(){$(this).is(":checked")?$("#Topmenu_parent").show():$("#Topmenu_parent").hide()}),$("#ace-settings-hover").click(function(){if($(this).is(":checked")){$(".ParentTag").addClass("hover");var e=JSON.stringify({sidemenuHover:"hover"});$.ajax({url:"../Sidebar_Changes_Submenu",type:"POST",contentType:"application/json",data:e,success:function(e){}})}else $(".ParentTag").removeClass("hover")}),$(".colorpick-btn").click(function(){var e=$(this).attr("data-color"),r="";"#438EB9"==e?r="no-skin":"#222A2D"==e?r="skin-1":"#C6487E"==e?r="skin-2":"#D0D0D0"==e&&(r="skin-3 no-skin");var o=JSON.stringify({skincolor:r});$.ajax({url:"../Sidebar_Changes",type:"POST",contentType:"application/json",data:o,success:function(e){}})})}function fn_UserName(){try{StartPageLoader(),$.ajax({url:"../Login_user_Names",contentType:"application/json",type:"GET",success:function(e){0==e&&fn_errorNotification("200",e.error,e.error,"Error Occured in Getting Data with code fn_UserName","error_alert","",""),$("#lbl_user").text(e.displayname),e.error&&fn_errorNotification("200",e.error,e.error,"Error Occured in Getting Data with code fn_UserName","error_alert","",""),StopPageLoader()},error:function(e,r){fn_errorNotification(e.status,e,r,"error occured at data getting with code fn_UserName","error_alert","",""),StopPageLoader()}})}catch(e){fn_errorNotification("200",e,e,"Error Occured in Getting Data with code fn_UserName","error_alert","",""),StopPageLoader()}}function fn_changePassword(){try{bootbox.dialog({message:'<div class=""><label>Do You Want Change Password ?</label></div><hr><form> <div class="form-group"><label for="chagepassword">Enter Password<span style="color:red;">*</span></label><input class="form-control" id="chagepassword" type="password"></div><div class="form-group"><label for="ConfirmPassword">Confirm Password<span style="color:red;">*</span ></label><input class="form-control" id="ConfirmPassword" type="password"></div></form>',buttons:{success:{label:"<i class='ace-icon fa fa-check'></i> Change!",className:"btn-sm btn-success",callback:function(){var e=$("#chagepassword").val(),r=$("#ConfirmPassword").val(),o=0;if(""==e&&o++,""==r&&o++,0<o)return alert("Please Fill All Mandatary Fields"),!1;if(0==o){if(e!=r)return alert("Both are Not Matched"),!1;var a=JSON.stringify({ConfirmPassword:r});$.ajax({url:"../ChangePassword",type:"POST",contentType:"application/json",async:!1,data:a,success:function(e){1==e||"true"==e?(alert("Password has been changed Successfully!!"),fn_Logout()):alert("Error Occurred.Try Again")},error:function(e,r){fn_errorNotification(e.status,e,r,"error occured at data getting with code fn_UserName","error_alert","",""),StopPageLoader()}})}}}}})}catch(e){alert("Error:\tfn_changePassword\t"+e)}}function fn_Logout(){try{StartPageLoader(),$.ajax({url:"../logout",type:"GET",async:!1,success:function(e){e.error&&(StopPageLoader(),fn_errorNotification("200",e.error,e.error,"Error Occured in Getting Data with code fn_UserName","error_alert","","")),1==e&&(StopPageLoader(),window.location.href="/")},error:function(e,r){StopPageLoader(),fn_errorNotification(e.status,e,r,"error occured at data getting with code fn_Logout","error_alert","","")}})}catch(e){alert("Error:fn_Logout"+e)}}function loginname(){try{$.ajax({url:"../Login_users",type:"GET",success:function(e){$("#lbl_user").empty(),$("#lbl_user").append(e)}})}catch(e){alert("Error:loginname"+e)}}function UpdateUserLogOut(){try{getUserIP(function(e){id=guid();var r,o,a,t,n=e,i=id,s=new Date,c="Now: "+s.getDate()+"/"+(s.getMonth()+1)+"/"+s.getFullYear()+" @ "+s.getHours()+":"+s.getMinutes()+":"+s.getSeconds();navigator.sayswho=(o=navigator.appName,a=navigator.userAgent,(t=a.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i))&&null!=(r=a.match(/version\/([\.\d]+)/i))&&(t[2]=r[1]),t=t?[t[1],t[2]]:[o,navigator.appVersion,"-?"]);var d=navigator.sayswho,u=JSON.stringify({Ip:n,BrowserId:i,datetime:c,browser_version:d});$.ajax({url:"/UpdateUserLogOut",type:"POST",contentType:"application/json",data:u,success:function(e){"Success"==e?window.location.href="/#":fn_errorNotification("200",e,e,"error occured at UpdateUserLogOut","error_alert","","")},error:function(e,r){fn_errorNotification(e.status,e,r,"error occured at UpdateUserLogOut","error_alert","","")}})})}catch(e){fn_errorNotification(e.status,e.message,e.message,"error occured at UpdateUserLogOut","error_alert","","")}}function StartPageLoader(){$("#PageLoader").css("display","block")}function StopPageLoader(){$("#PageLoader").css("display","none")}function MenuOpertaion(){StartPageLoader(),setTimeout(function(){$.ajax({url:"../MenuOperation",type:"GET",contentType:"application/json",success:function(e){if(e.error)fn_errorNotification("200",e.error,e.error,"Error Occured in Getting Data with code MenuOpertaion","error_alert","",""),StopPageLoader();else{if(0<e.length)for(var r=0;r<e.length;r++)$("#TopMenu_"+e[r].FormIdText).css("display","block"),$("#TopMenu_"+e[r].ModuleIdText).css("display","block"),$("#"+e[r].FormIdText).css("display","block"),$("#"+e[r].ModuleIdText).css("display","block");$(".ParentTag").each(function(){var e=0;$(this).find("li").each(function(){"block"==$(this).css("display")&&(e=1)}),0==e&&$(this).css("display","none"),StopPageLoader()})}},error:function(e,r){fn_errorNotification(e.status,e,r,"error occured at data getting with code MenuOpertaion","error_alert","",""),StopPageLoader()}})},300)}function fn_session_expired_client(){try{StartPageLoader();bootbox.confirm("<b>Session has Expired</b>.Page will Redirect to Login Screen",function(e){e&&(window.location.href="/")}),$(".btn").addClass("btn-sm"),$(".modal-footer").css({"padding-bottom":"7px","padding-top":"4px"}),$(".bootbox-confirm").css("z-index","3000"),$(".btn-default").remove(),$(".close").remove()}catch(e){fn_errorNotification("200",e,e,"Error Occured in Getting Data with code fn_session_expired_client","error_alert","","")}}function wait(e){for(var r=(new Date).getTime(),o=r;o<r+e;)o=(new Date).getTime()}function fn_OpenDashboard(){try{StartPageLoader(),$.ajax({url:"../CheckSessionEveryForm",type:"POST",async:!1,data:JSON.stringify({FormId:"GeneralDashboards"}),contentType:"application/json",success:function(e){0==e.isauthenticated?(StopPageLoader(),fn_errorNotification("","","","<b>Session has Expired</b>.Page will Redirect to Login Screen ","error_notification","",""),$(".gritter-title").css("display","none"),$(".gritter-close").remove(),setTimeout(function(){window.location.href="/"},300)):(StopPageLoader(),window.open("/ViewReports"))},error:function(e,r){fn_errorNotification(e.status,e,r,"error occured at data getting with code MenuOpertaion","error_alert","",""),StopPageLoader()}})}catch(e){alert("Error:\tfn_CheckSession"+e)}}