function fn_Get_Roles(){try{StartPageLoader(),$.ajax({url:"../GetRoleAcess",contentType:"application/json",type:"GEt",success:function(e){if(0==e.isauthenticated&&(StopPageLoader(),fn_session_expired_client()),e.error)fn_errorNotification("200",e.error,e.error,"error occured at save data with code fn_save_details_001","error_alert","",""),StopPageLoader();else if(""!=e&&"null"!=e&&"[]"!=e&&e!=[]&&null!=e){StopPageLoader(),$("#txt_Role").empty(),$("#txt_Role").append("<option value=''>--select--</option>");for(var r=0;r<e.length;r++)$("#txt_Role").append("<option value='"+e[r].RoleId+"'>"+e[r].RoleName+"</option>")}$("#txt_Role").trigger("chosen:updated")},error:function(e,r){fn_errorNotification(e.status,e,r,"error occured at data getting with code fn_getdata_list_001","error_alert","",""),StopPageLoader()}})}catch(e){fn_errorNotification("200",e,e,"error occured at save data with code fn_save_Userdetails","error_alert","",""),StopPageLoader()}}function fn_get_Password(){try{StartPageLoader(),$.ajax({url:"../GetPassword",contentType:"application/json",type:"GET",success:function(e){if(""!=e&&"null"!=e&&"[]"!=e&&e!=[]&&null!=e){StopPageLoader(),$("#txt_passwordPolicy").empty(),$("#txt_passwordPolicy").append("<option value=''>--select--</option>");for(var r=0;r<e.length;r++)$("#txt_passwordPolicy").append("<option value='"+e[r].PolicyID+"'>"+e[r].PolicyName+"</option>")}$("#txt_passwordPolicy").trigger("chosen:updated"),e.error&&(fn_errorNotification("200",e.error,e.error,"error occured at save data with code fn_save_details_001","error_alert","",""),StopPageLoader())},error:function(e,r){fn_errorNotification(e.status,e,r,"error occured at data getting with code fn_getdata_list_001","error_alert","",""),StopPageLoader()}})}catch(e){fn_errorNotification("200",e,e,"error occured at save data with code fn_get_Password","error_alert","",""),StopPageLoader()}}function fn_save_Userdetails(){try{var e=$("#txt_firstname").val(),r=$("#txt_MiddelName").val(),t=$("#txt_lastname").val(),o=$("#txt_EmailId").val(),a=$("#txt_countrycode").val(),i=$("#txt_Mobilenumber").val(),l=$("#txt_EmpId").val(),n=$("#txt_Role option:selected").val(),d=$("#chk_active").prop("checked"),c=$("#idUserlabel").val(),s=$("#txt_passwordPolicy").val(),_=0;if($(".Error").hide(),""!=e&&"null"!=e&&null!=e||(_++,$("#er_fName").show(),$("#er_fName").html("<b> first !! </b> Input is required.")),""!=t&&"null"!=t&&null!=t||(_++,$("#er_LName").show(),$("#er_LName").html("<b> lastname !! </b> Input is required.")),""!=o&&"null"!=o&&null!=o||(_++,$("#er_EmailID").show(),$("#er_EmailID").html("<b> email id !! </b> Input is required.")),""!=a&&"null"!=a&&null!=a||(_++,$("#er_Ccode").show(),$("#er_Ccode").html("<b> Code !! </b> Input is required.")),""!=i&&"null"!=i&&null!=i||(_++,$("#er_MNumber").show(),$("#er_MNumber").html("<b> Mobile Number !! </b> Input is required.")),""!=l&&"null"!=l&&null!=l||(_++,$("#er_Empid").show(),$("#er_Empid").html("<b> Employee Id !! </b> Input is required.")),""!=n&&"null"!=n&&null!=n||(_++,$("#er_role").show(),$("#er_role").html("<b> Role !! </b> Input is required.")),""!=s&&"null"!=s&&null!=s||(_++,$("#er_PasswordPolicy").show(),$("#er_PasswordPolicy").html("<b> Password !! </b> Input is required.")),0==_){var u=JSON.stringify({Firstname:e,MiddelName:r,Lastname:t,EmailId:o,Countrycode:a,Mobilenumber:i,EmployeeId:l,Role:n,chk_active:d,Id:c,PasswordPolicy:s});""!=$("#idUserlabel").val()&&null!=$("#idUserlabel").val()&&"undefined"!=$("#idUserlabel").val()?(alert(_),$.ajax({url:"/UpdateUser",type:"POST",contentType:"application/json",data:u,success:function(e){0==e.isauthenticated?(StopPageLoader(),fn_session_expired_client()):(e.error?fn_errorNotification("200",e.error,e.error,"error occured at save data with code fn_save_Userdetails","error_alert","",""):(fn_SuccessNotification(e,"success_alert","",""),localStorage.setItem("id",""),localStorage.setItem("type",""),window.location.href="#UserFormList"),StopPageLoader())},error:function(e,r){fn_errorNotification(e.status,e,r,"error occured at update with code fn_save_Userdetails","error_alert","",""),StopPageLoader()}})):(StartPageLoader(),$.ajax({url:"../SaveUserDetails",contentType:"application/json",type:"POST",data:u,success:function(e){0==e.isauthenticated?(StopPageLoader(),fn_session_expired_client()):e.error?fn_errorNotification("200",e.error,e.error,"error occured at save data with code fn_save_details_001","error_alert","",""):(fn_SuccessNotification(e,"success_alert","",""),ClearTextbox()),StopPageLoader()},error:function(e,r){fn_errorNotification(e.status,e,r,"error occured at data getting with code fn_getdata_list_001","error_alert","",""),StopPageLoader()}}))}}catch(e){fn_errorNotification("200",e,e,"error occured at save data with code fn_save_Userdetails","error_alert","",""),StopPageLoader()}}function ClearTextbox(){try{localStorage.setItem("id",""),localStorage.setItem("type",""),$("#txt_Role").val("").trigger("chosen:updated"),$("#txt_passwordPolicy").val("").trigger("chosen:updated"),$("input[type=text], textarea").val(""),$("#chk_active").attr("checked",!1)}catch(e){fn_errorNotification("200",e,e,"error occured at save data with code ClearTextbox","error_alert","","")}}function fn_EmployeeId(){try{StartPageLoader(),$.ajax({url:"../EmployeeList",contentType:"application/json",type:"GET",success:function(e){0==e.isauthenticated?(StopPageLoader(),fn_session_expired_client()):(0==e?fn_errorNotification("200",e.error,e.error,"error occured at save data with code fn_EmployeeId","error_alert","",""):e.error?fn_errorNotification("200",e.error,e.error,"error occured at save data with code fn_EmployeeId","error_alert","",""):fn_Lookup_Utility_textbox(e,"tableid","EmpId","txt_EmpId","fn_GetAllDetails"),StopPageLoader())},error:function(e,r){fn_errorNotification(e.status,e,r,"error occured at data getting with code fn_EmployeeId","error_alert","",""),StopPageLoader()}})}catch(e){fn_errorNotification("200",e,e,"error occured at save data with code fn_EmployeeId","error_alert","",""),StopPageLoader()}}function fn_GetAllDetails(){try{var e=$("#txt_EmpId").val(),r=JSON.stringify({textVal:e});StartPageLoader(),$.ajax({url:"../GetEmployeeBasedOnId",contentType:"application/json",type:"POST",data:r,success:function(e){if(0==e.isauthenticated)StopPageLoader(),fn_session_expired_client();else if(0==e)fn_errorNotification("200",e.error,e.error,"error occured at save data with code fn_EmployeeId","error_alert","",""),StopPageLoader();else if(e.error)fn_errorNotification("200",e.error,e.error,"error occured at save data with code fn_EmployeeId","error_alert","",""),StopPageLoader();else{$("#txt_EmailId").val(e[0].Email);var r=(e=e[0].MobileNumber).split("-");$("#txt_countrycode").val(r[0]),$("#txt_Mobilenumber").val(r[1]),StopPageLoader()}},error:function(e,r){fn_errorNotification(e.status,e,r,"error occured at data getting with code fn_EmployeeId","error_alert","",""),StopPageLoader()}})}catch(e){fn_errorNotification("200",e,e,"error occured at save data with code fn_EmployeeId","error_alert","",""),StopPageLoader()}}$("#sel_Countrycode").chosen({allow_single_deselect:!0,width:"100%"}),$("#txt_Role").chosen({allow_single_deselect:!0,width:"90%"}),$("#txt_passwordPolicy").chosen({allow_single_deselect:!0,width:"90%"}),fn_Get_Roles(),fn_get_Password();